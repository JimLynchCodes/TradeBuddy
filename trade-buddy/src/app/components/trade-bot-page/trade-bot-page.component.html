
<div class="content" role="main">

  <!-- Positions Section -->
  <div class="container-fluid row m-1 my-2 border border-primary rounded">

    <div class="col-12 p-2">

      <h2 class="text-center pb-2">Positions</h2>

      <div *ngFor="let position of currentPositions; index as i;" class="m-1 my-2 p-2 border border-primary rounded">

        <span class="px-2">{{i+1}})</span>
        {{position.longQuantity}} shares of {{position.instrument.symbol}} - market value: ${{position.marketValue}}

      </div>

    </div>

  </div>

  <!-- Active Orders sections -->

  <div class="flex p-1 my-2 border border-primary rounded w-100">

    <h2 class="text-center mb-2 mt-4 pt-2">Active Orders</h2>

    <div class="row flex justify-content-around">

      <div class="flex-grow-1">

        <h3 class="text-center py-1"><u>BUY</u></h3>

        <div *ngFor="let order of currentOrders; index as i;" class="m-1 my-2 p-2 border border-primary rounded">

          <span class="px-2">{{i+1}})</span>

          <ng-container *ngIf="order.orderLegCollection[0].instruction === 'BUY'">
            {{order.quantity}} shares of {{order.orderLegCollection[0].instrument.symbol}} @ ${{order.price}} each.
          </ng-container>

        </div>

      </div>

      <div class="flex-grow-1">

        <h3 class="text-center py-1"><u>SELL</u></h3>

        <div *ngFor="let order of currentOrders; index as i;" class="m-1 my-2 border border-primary rounded">

          <div class="p-1" *ngIf="order.orderLegCollection[0].instruction === 'SELL'">

            <span class="px-2">{{i+1}})</span>
            {{order.quantity}} shares of {{order.orderLegCollection[0].instrument.symbol}} @ ${{order.price}} each.
          </div>

        </div>

      </div>

    </div>

  </div>

  <!-- Suggested Trades sections -->

  <div class="flex p-1 my-2 border border-primary rounded w-100">

    <h2 class="text-center mb-2 mt-4 pt-2">Suggested Trades</h2>

    <div class="row justify-content-around">

      <div class="d-flex flex-column flex-grow-1 align-items-center">

        <h3 class="text-center py-1"><u>BUY</u></h3>

        <div *ngFor="let order of suggestedBuyOrders; let i = index;"
          class="m-1 my-2 p-2 border order-white bg-primary text-white rounded" style="min-width: 85%;">

          <span class="px-2">{{i+1}})</span>

          <ng-container *ngIf="order.orderLegCollection[0].instruction === 'BUY'">
            {{order.quantity}} shares of {{order.orderLegCollection[0].instrument.symbol}} @ ${{order.price}} each.

            <ul>
              <div *ngFor="let reason of order.reasons">
                <li>
                  {{reason.text}}
                </li>
              </div>
            </ul>

          </ng-container>

          <div class="flex-grow-1 row justify-content-around">
            <button type="button" class="btn btn-success btn-sm" tooltip=""
              (click)="placeTradeSuggestionClick(order, i)">
              Place Trade
            </button>
            <button type="button" class="btn btn-secondary btn-sm" tooltip=""
              (click)="dismissTradeSuggestionClick(order, i)">
              Dismiss
            </button>
          </div>


        </div>

      </div>

      <div class="d-flex flex-column flex-grow-1 align-items-center">

        <h3 class="text-center py-1"><u>SELL</u></h3>

        <div *ngFor="let order of suggestedSellOrders; index as i;"
          class="m-1 my-2 p-2 border order-white bg-primary text-white rounded" style="min-width: 85%;">

          <div class="p-1" *ngIf="order.orderLegCollection[0].instruction === 'SELL'">

            <span class="px-2">{{i+1}})</span>
            {{order.quantity}} shares of {{order.orderLegCollection[0].instrument.symbol}} @ ${{order.price}} each.
          </div>

        </div>

      </div>

    </div>

  </div>

</div>